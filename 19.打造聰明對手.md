# 19. 打造聰明對手

在遊戲的世界裡，我們都希望對手在遊戲裡能聰明一些，這樣遊戲會更耐玩。最明顯的例子就是連線對戰型的旗牌類遊戲。

由於遊戲機的運算能力與記憶體資源限制，如果要寫出比真實人類玩家的還厲害(或是接近)的判斷能力，對於程式設計的要求會非常高。我們無法透過很短的教學文章教會您這類的程式設計技巧，不過在 MakeCode Arcade 的環境裡，有幾個可以參考的方法會讓你與你的遊戲使用者覺得很有趣。

## 最常用的跟隨積木

跟隨積木是出現在 **角色** 積木中。

![](/img/19/arcade19_00.png)

我們來做一個簡單的敵人與NPC跟隨的範例來說明:

### 啟動時

![](/img/19/arcade19_01.png)

### 公主碰到 NPC 與 NPC 碰到敵人的情況

![](/img/19/arcade19_02.png)


### 遊戲每一秒新增一個敵人

![](/img/19/arcade19_03.png)

## 隨機遊蕩 Random wandering

**Random wandering** 是指在遊戲設計中，角色以隨機的方式在遊戲世界中移動，而不是遵循特定的路徑或目標。這種隨機移動通常沒有明確的目的，僅僅是為了讓角色看起來更具活力或更自然。

在遊戲設計中的應用如下：

1. 敵人或 NPC 的行為：在許多遊戲中，敵人或非玩家角色 (NPC) 會採取隨機漫遊的行為，直到玩家接近或觸發特定事件。這使得遊戲環境顯得更加生動且不可預測，增加遊戲的挑戰性。

2. 探索元素：一些遊戲讓玩家角色隨機移動或探索世界，可能會發現隱藏的寶藏、秘密地點或觸發隨機事件。

3. 動態環境：隨機移動的物件（例如動物、雜物、機器人等）可以使遊戲世界看起來更有生命力和動態感，避免靜態環境的單調。

4. AI 行為：對於一些簡單的 AI 系統，隨機漫遊是基本行為之一，使得 AI 看起來更具自主性，而不會一直追隨或攻擊玩家。

我們舉個實例來說明:

在 [**Minecraft Edu**](https://education.minecraft.net/zh-hant/get-started/download) 中，動物如牛、羊、豬等，會隨機地在遊戲世界中漫遊。這些動物並不會有特定目標或目的地，而是隨機地在草地上移動、轉身或停下來吃草。這種隨機漫遊的行為使遊戲世界顯得更加自然，讓玩家感覺到遊戲中的生物有自己的生命，而不是只是靜態的物件。

![](https://education.minecraft.net/content/dam/education-edition/logos/education-minecraft-logo.png)

![遊戲畫面](/img/19/arcade19_04.png)

應用場景：

* 增強遊戲世界的生動感：
  
  動物的隨機漫遊行為使得《Minecraft》的世界不會顯得死板，增加了沉浸感。玩家可能會遇到動物在周圍四處走動，這種動態環境讓遊戲看起來更加生氣勃勃。

* 提供遊戲機會：
  
  這些隨機漫遊的動物為玩家提供了資源的來源。玩家可以捕捉或殺死這些動物來獲得食物、皮革等資源。由於動物的行為是隨機的，玩家每次遊玩時的經驗可能會不同，增加了遊戲的可重玩性。

* 自然環境模擬：
  隨機漫遊還有助於模擬一個真實的生態系統。動物不會只集中在一個地點，而是隨機分佈，這使得整個遊戲世界看起來更像真實的野外環境。

另外新冠疫情期間非常紅的 [**動物森友會 Animal Crossing**]()，也是個應用實例。

![](/img/19/arcade19_05.png)

在遊戲中，你會發現島上的動物居民經常隨意地在村莊裡四處走動。他們不像有些遊戲中的角色會沿著固定的路線來回走，而是會自由地在島上漫步，可能會停下來看一看花，或是在河邊釣魚、坐在樹下休息等等。這些行為都是隨機的，因此每次進入遊戲時，你都可能看到他們在做不同的事情。

最知名的就是 **Daisy Mae (鼻涕包)**。她是一隻小野豬，頭上總是頂著一簍大頭菜。

每週日早上會來到你的島上賣大頭菜，這時間固定，但她會隨機出現在島上的不同地點。玩家可以在這段時間內四處尋找她，向她買大頭菜。大頭菜價格每週都不一樣，這讓玩家們在購買和出售大頭菜時需要謹慎決策。

![大頭菜](/img/19/arcade19_06.png)

設定條件：

* 出現時間： 每週日早上 5 點到中午 12 點。
* 隨機位置： 隨機出現在島上各地，需要玩家去找她。
* 大頭菜價格： 每次她賣的大頭菜價格都是隨機，價格波動很大，玩家們常會在週六前嘗試賣出大頭菜，以獲得最高的收益。

鼻涕包的登場讓遊戲中的「大頭菜市場」變得充滿趣味，這也是遊戲中一個重要的賺錢方法。


我們在網路上找到這篇用數學解說大頭菜交易的影片 [**動森大頭菜│超專業大頭菜分析！用貝式定理、期望值、馬可夫鍊橫掃大頭菜市場！｜【數感沙龍**](https://www.youtube.com/watch?v=Ds-9dVvQYJo)，很值得讀者參考喔!

要做出接近現實生活的遊戲，數學建模是不可或缺的相關知識。

![大頭菜價格](/img/19/arcade19_07.png)

## 範例展示: 做出 Random Wander 隨機遊蕩的效果

![](/img/19/arcade19_08.png)

![](/img/19/arcade19_09.png)

![](/img/19/arcade19_10.png)

## 參考資料

1. [我的世界教育版 Minecraft Edu]()
2. [動物森友會 Animal Crossing]()
3. [Chickens! - MakeCode for Minecraft Code Builder](https://www.youtube.com/watch?v=bDaOISL9_UE)
4. [動森大頭菜│超專業大頭菜分析！用貝式定理、期望值、馬可夫鍊橫掃大頭菜市場！｜【數感沙龍】](https://www.youtube.com/watch?v=Ds-9dVvQYJo)