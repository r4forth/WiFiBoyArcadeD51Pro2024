# 17. 掌握物理特性，增加重力、跳躍與飛行功能

## 前言

## 設備需求清單

## 內文

你喜歡撞到東西嗎？你認為跳躍和跌落比懸停更令人興奮嗎？在這篇文章中，我們將探索 Microsoft MakeCode Arcade 中引人入勝的物理學領域，以及如何掌握遊戲物理學來創建有趣的互動遊戲。

系好安全帶，準備好學習重力和碰撞檢測！

電子遊戲中的物理特性
“遊戲物理學”是指管理遊戲世界中物體的規則和行為。它決定了物件如何移動、碰撞和相互作用。在 Microsoft MakeCode Arcade 中，您可以利用物理原理使您的遊戲更加逼真和令人興奮。讓我們看一下遊戲物理學的兩個方面：重力和碰撞檢測。

重力
重力是一種將物體拉向地面的基本力。在MakeCode Arcade中，您可以通過向精靈添加沿垂直方向 （ay） 的加速度來類比重力，以創建逼真的重量和運動感。


通過對遊戲角色應用不同量的垂直加速度，他們可以像受重力影響一樣墜落、漂浮和移動。

嘗試不同的 ay 值以達到您想要的效果。

請記住，較強的重力會使物體下落得更快，而較弱的重力會導致下降速度較慢，而負重力會導致漂浮或飛行。

檢測碰撞
碰撞檢測是計算機確定兩個物體何時相互接觸的方式。在MakeCode Arcade中，您可以通過重疊事件實現碰撞檢測，以創建互動式和回應式遊戲。例如，您可以檢查玩家的角色是否觸摸了牆壁、敵人或可收集物品。

當發生衝突時，您可以觸發特定操作，例如降低玩家的生命值或增加他們的分數。通過準確檢測碰撞，您可以為遊戲添加令人興奮的挑戰和障礙。


在這裡，程式會檢測玩家何時與紫色瓷磚重疊，並宣佈遊戲獲勝
結論
在MakeCode Arcade 中掌握遊戲物理特性，可以在您的遊戲設計中開啟創造力和交互性領域。通過瞭解重力和碰撞檢測以及如何應用它們，您可以創建引人入勝的遊戲，讓玩家眼花繚亂。


跳躍是電子遊戲中常見的機制，但是當將你的角色送上空中時，需要考慮的不僅僅是它是否會回來。

學習飛行
為了讓你的精靈飛起來，它需要有某種類型的向上運動。這通常是通過設置其垂直速度 （vy） 來實現的，該速度也稱為它在上升/下降方向上行進的速度。

如果你把精靈的垂直速度設置為負數（並且沒有加速度或摩擦力阻礙），你的精靈就會飛向天空，永遠不會回來！


每次按下 （A） 按鈕時將 vy 設定為負數
有些遊戲，比如 Flappy Bird，依賴於重力機制，你必須在每次按下按鈕時克服這個機制。每次你推動空格鍵時，你的鳥都會飛得更高，但當你停下來時，重力會把你拉回地面。


更極端的版本是檢查你的角色是否已經在地面上，然後再讓它再次起飛。這不像飛行，更像是跳躍。

為跳躍做準備
適當的跳躍從升降開始，以精靈返回地面結束。為了實現這一點，您需要在正加速度之上有一個負速度。

在遊戲中設置正加速將產生向螢幕底部的持續「拉力」。如果你然後按下 （A） 按鈕施加負速度，你會暫時向上移動，直到加速度超過速度，你再次開始下降。

確保完全跳躍的訣竅是確保 （A） 按鈕內的動作在精靈回到地面之前不會再次運行。您可以通過簡單的檢查來做到這一點。if/then


在我們的叢林跳躍技能圖中，我們稱之為重力跳躍。

越來越花哨
上面的代碼非常適合 tilemap 情況，但它在處理非 tilemap 遊戲中的精靈跳躍方面做得並不好。

為了考慮到僅使用背景並且角色可能會或可能不會超出螢幕邊緣的情況，我們對我們的特殊擴展進行了一些添加。gravity jump


讓我們逐個條件地分解這個條件。

mySprite 會撞到底部的牆嗎？
如果是這樣，你就在地面上。去吧！
mySprite 的速度 = 0 嗎？
如果是這樣，你就沒有飛或墜落。去吧！
你的精靈的底部在螢幕的底部嗎？
如果是這樣，你不可能已經向上旅行了。去吧！
如果上述任何一種情況為真，則此代碼將允許您的角色再次跳躍。

現在，您擁有編寫自己的跳躍機制所需的所有資訊！你會把它添加到什麼樣的遊戲中？

製作代碼
遊戲製作指南
教育科技
Microsoft
兒童視頻遊戲


## 程式碼

## 參考資料